########################################
# MODO DE OPERAÇÃO: GITOPS x LOCAL (OUT)
########################################
# IH_GITOPS_ENABLED controla ONDE os YAMLs vão ser gerados:
#
# IH_GITOPS_ENABLED=true
#   - Usa GitOps: clona o repositório GIT_REPO_URL
#   - Escreve dentro da pasta -out (ex: apps/) **dentro do repo**
#   - Atualiza kustomization.yaml e depois faz commit/push
#
# IH_GITOPS_ENABLED=false
#   - Ignora qualquer configuração de GIT_*
#   - Usa a flag -out como pasta base local (ex: ./out)
#   - Cria a estrutura:
#       out/source/debeziumsqlserver/...
#       out/sink/jobsnowflake/<lz-sql-ih-prd>/...
#       out/jobs/snowflake_envs/<env>/<lz-sql-ih-prd>/...
#
# Se deixar em branco:
#   - Se GIT_REPO_URL estiver preenchido -> assume GitOps (true)
#   - Se GIT_REPO_URL estiver vazio      -> assume modo local (false)
########################################

IH_GITOPS_ENABLED=false   # altere para true quando quiser operar em modo GitOps

# Ambiente lógico dos manifests (usado no path de jobs):
# apps/jobs/snowflake_envs/<IH_ENV>/<lz-sql-ih-prd>/
IH_ENV=production



########################################
# SQL SERVER - MODO MULTI-ALIAS (ingestion.yaml)
# Cada alias definido no ingestion.yaml precisa ter esse padrão:
#   SQLSERVER_<ALIAS>_HOST
#   SQLSERVER_<ALIAS>_PORT
#   SQLSERVER_<ALIAS>_USER
#   SQLSERVER_<ALIAS>_PASSWORD
#   SQLSERVER_<ALIAS>_DATABASE (opcional, se não usar o do YAML)
########################################

# alias: demo_cdc
SQLSERVER_DEMO_CDC_HOST=192.168.88.252
SQLSERVER_DEMO_CDC_PORT=1433
SQLSERVER_DEMO_CDC_USER=sa
SQLSERVER_DEMO_CDC_PASSWORD=Strong!Passw0rd
SQLSERVER_DEMO_CDC_DATABASE=demo_cdc

# alias: demo_cdc_2
SQLSERVER_DEMO_CDC_2_HOST=192.168.88.252
SQLSERVER_DEMO_CDC_2_PORT=1433
SQLSERVER_DEMO_CDC_2_USER=sa
SQLSERVER_DEMO_CDC_2_PASSWORD=Strong!Passw0rd
SQLSERVER_DEMO_CDC_2_DATABASE=demo_cdc_2

# alias: demo_cdc_3
SQLSERVER_DEMO_CDC_3_HOST=192.168.88.252
SQLSERVER_DEMO_CDC_3_PORT=1433
SQLSERVER_DEMO_CDC_3_USER=sa
SQLSERVER_DEMO_CDC_3_PASSWORD=Strong!Passw0rd
SQLSERVER_DEMO_CDC_3_DATABASE=demo_cdc_3

# alias: demo_cdc_4 (quando você começar a usar)
SQLSERVER_DEMO_CDC_4_HOST=192.168.88.252
SQLSERVER_DEMO_CDC_4_PORT=1433
SQLSERVER_DEMO_CDC_4_USER=sa
SQLSERVER_DEMO_CDC_4_PASSWORD=Strong!Passw0rd
SQLSERVER_DEMO_CDC_4_DATABASE=demo_cdc_4



########################################
# SQL SERVER - MODO SINGLE (opcional)
# Usado apenas se você rodar com: -table MinhaTabela (sem -config)
########################################

#SQLSERVER_HOST=192.168.88.252
#SQLSERVER_PORT=1433
#SQLSERVER_USER=sa
#SQLSERVER_PASSWORD=Strong!Passw0rd
#SQLSERVER_DATABASE=demo_cdc

## Secret lógico para o connector source no modo single
#SQLSERVER_SECRET_NAME=sqlserver-origem-sqlcrmp



########################################
# KAFKA / CONNECT / CLUSTER
########################################

# Nome lógico do cluster Connect (usado nos YAMLs)
CONNECT_CLUSTER_NAME=inthub-prd

# Bootstrap servers usados no schema history do Debezium
SCHEMA_HISTORY_BOOTSTRAP_SERVERS=kafka01:9092,kafka02:9092,kafka03:9092



########################################
# SNOWFLAKE
# Usado tanto pelos sinks quanto pelos jobs de criação de tabela
########################################

# JDBC de conexão usado no connector Snowflake
SNOWFLAKE_JDBC_URL=jdbc:snowflake://seuaccount.snowflakecomputing.com?schema=CRMB001D&db=LZ_SQL_IH_PRD&warehouse=WH_IH_PROD&CLIENT_SESSION_KEEP_ALIVE=TRUE&tracing=WARNING

# Secrets usados pelo connector (nomes lógicos de Secret / ExternalSecret)
SNOWFLAKE_USER_SECRET=snowflake-creds
SNOWFLAKE_PASSWORD_SECRET=snowflake-creds

# Nome lógico do "banco" no padrão dos connectors
SNOWFLAKE_DB_LOGICAL=lz-sql-ih-prd

# ConfigMap com config de conexão Snowflake para os Jobs
SNOWFLAKE_CONN_CONFIGMAP=lz-sql-ih-connection

# Role usada no script SQL do job
SNOWFLAKE_ROLE=SNFLK_INTEGRATION_HUB_ROLE

# Database alvo usado pelo job (USE DATABASE ...)
SNOWFLAKE_DATABASE=LZ_SQL_IH



########################################
# GITOPS (OPCIONAL)
# Só são usados se IH_GITOPS_ENABLED=true
########################################

# URL do repositório de manifests (GitHub, Azure DevOps, etc.)
# Exemplo Azure DevOps (ajuste para o seu):
# GIT_REPO_URL=ssh://git@dev.azure.com/sua-org/seu-projeto/_git/INTEGRATIONHUBARGOCD
GIT_REPO_URL=

# Branch base onde ficam os manifests (normalmente main ou master)
GIT_BASE_BRANCH=main

# Prefixo das branches de wave geradas pelo binário
# Ex: ingestion-grupo1, ingestion-sqlwave-2025-01 etc.
GIT_TARGET_BRANCH_PREFIX=ingestion-

# Caminho local onde o repositório será clonado.
# Se for relativo, é relativo à pasta onde o binário está.
GIT_LOCAL_PATH=argocd-repo

# Usuário e e-mail usados no git commit (opcionais, mas recomendável)
GIT_USER_NAME=ih-bot
GIT_USER_EMAIL=ih-bot@empresa.com
